{% extends 'base.html' %}
{% load i18n %}
{% load static %}

{% block title %}
    Car Rent &mdash; Blog
{% endblock %}

{% block content %}
    <div class="ftco-blocks-cover-1">
        {% for image in bg_image %}
            <div class="ftco-cover-1 overlay innerpage" style="background-image: url('{{ image.image.url }}'); max-width: 100%; height: auto;">
                <div class="container">
                    <div class="row align-items-center justify-content-center">
                        <div class="col-lg-6 text-center">
                            <h1 data-aos="fade-up" style=" font-family: 'Montserrat', sans-serif;">{% if not request.GET.category or request.GET.tag %}{{ image.title }}{% endif %}
                                {% if request.GET.category %}{{ request.GET.category }}{% endif %}
                                {% if request.GET.tag %}#{{ request.GET.tag }}{% endif %}
                            </h1>
                        </div>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>

    <div id="posts" class="site-section bg-light">
        <div class="container">
            <div class="row">
                {% for post in object_list %}
                    <div class="col-lg-4 col-md-6 mb-4">
                        <div class="post-entry-1 h-100">
                            <img src="{{ post.image.url }}" alt="Image" class="img-fluid" style="width: 100%; height: 270px;">
                            <div class="post-entry-1-contents">
                                <h2 style="font-family: 'Noto Sans', sans-serif;"><a href="{% url 'info:blog-detail' pk=post.pk %}">{{ post.title|truncatechars:80 }}</a></h2>
                                <span class="meta d-inline-block" style="font-family: 'Rubik', sans-serif;">{{ post.created_at|date:'M d, Y - H:i' }}</span>
                                <blockquote style="font-family: 'Raleway', sans-serif;"><p>{{ post.content|safe|truncatechars:160 }}</p></blockquote>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>

            <div class="pagination {% if request.GET.tag or request.GET.category %}d-none{% else %}{% endif %} justify-content-end">
                <ul class="pagination">
                    {% if page_obj.has_previous %}
                        <li class="page-item">
                            <a class="page-link" href="/blog/?page={{ page_obj.previous_page_number }}#posts"
                               aria-label="Previous">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                     class="bi bi-arrow-left-circle" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd"
                                          d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-4.5-.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5z"/>
                                </svg>
                            </a>
                        </li>
                    {% endif %}

                    {% for i in page_count %}
                        <li class="page-item {% if page_obj.number == forloop.counter %}active{% endif %}">
                            <a class="page-link"
                               href="/blog/?page={{ forloop.counter }}#posts">{{ forloop.counter }}</a>
                        </li>
                    {% endfor %}

                    {% if page_obj.has_next %}
                        <li class="page-item">
                            <a class="page-link" href="/blog/?page={{ page_obj.next_page_number }}#posts"
                               aria-label="Next">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                     class="bi bi-arrow-right-circle" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd"
                                          d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H4.5z"/>
                                </svg>
                            </a>
                        </li>
                    {% endif %}
                </ul>
            </div>
        </div>
    </div>

    <div class="container site-section mb-5">
        <div class="row justify-content-center text-center">
            <div class="col-7 text-center mb-5">
                <h2 style="font-family: 'Noto Sans', sans-serif;">{% trans 'How it works' %}</h2>
                <p style="font-family: 'Rubik', serif;">{% trans 'Take a look at the process of car registration' %}</p>
            </div>
        </div>
        <div class="how-it-works d-flex" style="font-family: 'Rubik', serif;">
            <div class="step">
                <span class="number"><span>01</span></span>
                <span class="caption">{% trans 'Car' %}</span>
            </div>
            <div class="step">
                <span class="number"><span>02</span></span>
                 <span class="caption">{% trans 'Details' %}</span>
            </div>
            <div class="step">
                <span class="number"><span>03</span></span>
                <span class="caption">{% trans 'Time &amp; Place' %}</span>
            </div>
            <div class="step">
                <span class="number"><span>04</span></span>
                <span class="caption">{% trans 'Checkout' %}</span>
            </div>
            <div class="step">
                <span class="number"><span>05</span></span>
                <span class="caption">{% trans 'Done' %}</span>
            </div>
        </div>
    </div>
{% endblock %}